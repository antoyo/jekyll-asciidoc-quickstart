<!DOCTYPE html>
<html>

<head>
    <!-- Meta -->
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="generator" content="Jekyll">

    <title>Relm drop support for futures!</title>
  <meta name="description" content="An asynchronous GUI Rust library, based on GTK+ and futures/tokio">

    <!-- CSS & fonts -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/asciidoc-pygments.css">

    <!-- RSS -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="img/favicon.png">

</head>


<body>
    <div id="wrap">

        <!-- Navigation -->
        <nav id="nav">
    <div id="nav-list">
        <a href="/">Home</a>

        <!-- Nav pages -->
      
        
      
        
      
        
      
        
      
        
      
        
      

    <!-- Nav links -->
      <a href="https://github.com/antoyo/relm">Project on Github</a>


    </div>

  <!-- Nav footer -->
    
      <footer>

    <span>version 1.0.0</span>

</footer>

    

</nav>


    <!-- Icon menu -->
      <a id="nav-menu">
        <div id="menu"></div>
      </a>

      <!-- Header -->
      
        <header id="header" class="parent justify-spaceBetween">
  <div class="inner w100 relative">
    <span class="f-left">
      <a href="/">
        <h1>
            Relm Blog
        </h1>
      </a>
    </span>
    <span id="nav-links" class="absolute right bottom">
      <!-- Nav pages -->
        
          
        
          
        
          
        
          
        
          
        
          
        

      <!-- Nav links -->
        <a href="https://github.com/antoyo/relm">Project on Github</a>


    </span>
  </div>
</header>




      

    <!-- Main content -->
      <div id="container">

        <main>

            <article id="post-page">
    <h2>Relm drop support for futures!</h2>
    <time datetime="2018-04-01T00:00:00+00:00" class="by-line">01 Apr 2018</time>
    <div class="content">

        <div id="preamble">
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Un concepteur sait qu’il a atteint la perfection non pas quand il n’y a plus rien à ajouter mais quand il ne reste rien à enlever.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Antoine de Saint-Exupery
</div>
</div>
<div class="paragraph">
<p>Relm is an attempt to do an idiomatic GUI library in Rust, based on gtk+.
See the <a href="http://relm.ml/relm-intro">introduction article</a> for details about why this library was created and how to use it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new_release">New release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;ve just released relm version 0.14!</p>
</div>
<div class="paragraph">
<p>This new release, like the previous one, does not provide a bunch of new features, but fix a very important issue:
it removes the dependency on futures.</p>
</div>
<div class="paragraph">
<p>The reason for that is to simplify the library.
Indeed, futures and tokio are generic, abstract libraries that can be quite complex to use.
Many of the reasons why I decided to drop these crates are explained <a href="https://theta.eu.org/2017/08/04/async-rust.html">in this blog article</a>.
One point that is not mentioned there is that it is incredibly difficult to write a library for a new protocol implemented on top of tokio.
Why is that? Simply because there&#8217;s no way to debug issues like why isn&#8217;t this fd polled except using <code>strace</code>.</p>
</div>
<div class="paragraph">
<p>So, what&#8217;s the alternative?
If you don&#8217;t need async IO, well, you don&#8217;t need anything and you won&#8217;t have this extra complexity anymore.
If you need it, you can use the <code>gio</code> async methods <a href="https://github.com/antoyo/relm/blob/9b1b527e8b5bdabaa34e37103e6d93e05cb8a8b3/relm-state/src/macros.rs#L129">with one of the <code>connect_async!</code> macros</a>.
The now working <a href="https://github.com/antoyo/relm/blob/master/examples/http/src/main.rs#L228-L303">http example</a> shows how to do that.
In the next months, I&#8217;ll work on implementing a few abstractions, as needed, while working on one of my project that needs it.
The goal is to build a very simple abstraction, that will work nicely with relm, and keep it as simple as possible to avoid the issues we got with <code>tokio</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This new version is the first step in making relm simpler and (as you may have guessed by the quote at the top of this article) you should expect more breaking changes to come that will make this crate even easier to use.
As always, your feedback is very much appreciated.
Also, there are <a href="https://github.com/antoyo/relm/issues">issues</a> that could use some love and many of them are tagged as <a href="https://github.com/antoyo/relm/issues?q=is%3Aopen+is%3Aissue+label%3Aeasy">easy</a> if you wish to start with something simple.
Don&#8217;t wait to make a difference in the Rust ecosystem!</p>
</div>
</div>
</div>

    </div>
</article>



      </main>

          <!-- Pagination links -->
      

      </div>

        <!-- Footer -->
        <footer><span>© 2017-2018 - Antoni Boucher</span></footer>


        <!-- Script -->
      <script src="/js/main.js"></script>


    </div>
</body>
</html>
