<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relm drop support for futures!</title>

    <link rel="stylesheet" type="text/css" href="/assets/css/styles_feeling_responsive.css">

    <!-- Search Engine Optimization -->
    <meta name="description" content="Un concepteur sait qu’il a atteint la perfection non pas quand il n’y a plus rien à ajouter mais quand il ne reste rien à enlever.



&amp;#8212; Antoine de Saint-Exupery




Relm is an attempt to do an idiomatic GUI library in Rust, based on gtk+.
See the introduction article for details about why this library was created and how to use it.




New release


I&amp;#8217;ve just released relm version 0.14!


This new release, like the previous one, does not provide a bunch of new features, but fix a very important issue:
it removes the dependency on futures.


The reason for that is to simplify the library.
Indeed, futures and tokio are generic, abstract libraries that can be quite complex to use.
Many of the reasons why I decided to drop these crates are explained in this blog article.
One point that is not mentioned there is that it is incredibly difficult to write a library for a new protocol implemented on top of tokio.
Why is that? Simply because there&amp;#8217;s no way to debug issues like why isn&amp;#8217;t this fd polled except using strace.


So, what&amp;#8217;s the alternative?
If you don&amp;#8217;t need async IO, well, you don&amp;#8217;t need anything and you won&amp;#8217;t have this extra complexity anymore.
If you need it, you can use the gio async methods with one of the connect_async! macros.
The now working http example shows how to do that.
In the next months, I&amp;#8217;ll work on implementing a few abstractions, as needed, while working on one of my project that needs it.
The goal is to build a very simple abstraction, that will work nicely with relm, and keep it as simple as possible to avoid the issues we got with tokio.




Conclusion


This new version is the first step in making relm simpler and (as you may have guessed by the quote at the top of this article) you should expect more breaking changes to come that will make this crate even easier to use.
As always, your feedback is very much appreciated.
Also, there are issues that could use some love and many of them are tagged as easy if you wish to start with something simple.
Don&amp;#8217;t wait to make a difference in the Rust ecosystem!


Please comment on Reddit.">
    
    <link rel="canonical" href="/relm-without-futures/">

    <link rel="stylesheet" href="/css/asciidoc-pygments.css">

    <link type="text/plain" rel="author" href="/humans.txt">

    

	<link rel="icon" sizes="32x32" href="https://relm.antoyo.xyz/assets/img/favicon-32x32.png">

	<link rel="icon" sizes="192x192" href="https://relm.antoyo.xyz/assets/img/touch-icon-192x192.png">

	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-180x180-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-152x152-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-144x144-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-120x120-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-114x114-precomposed.png">

	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-76x76-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-72x72-precomposed.png">

	<link rel="apple-touch-icon-precomposed" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-precomposed.png">	

	<meta name="msapplication-TileImage" content="https://relm.antoyo.xyz/assets/img/msapplication_tileimage.png">

	<meta name="msapplication-TileColor" content="#fabb00">


    

    </head>
    <body id="top-of-page" class="page-fullwidth">
        
        
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="/" class="icon-tree"> Relm Blog</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Nav</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

          
          
        

          
          
        

          
          
        

          
          
        
        

        <a href="https://www.patreon.com/antoyo"><img class="patreon" src="https://c5.patreon.com/external/logo/become_a_patron_button.png"/></a>
      </ul>

      <ul class="left">
        

          
          

            
            
              <li><a  href="/">Index</a></li>
              <li class="divider"></li>

            
            
          
        

          
          

            
            
              <li><a  href="/getting-started/">Getting Started</a></li>
              <li class="divider"></li>

            
            
          
        

          
          

            
            

              <li class="has-dropdown">
                <a  href="/documentation/">Documentation</a>

                  <ul class="dropdown">
                    

                      <li><a  href="/documentation/tutorial/">Tutorial</a></li>
                    

                      <li><a  href="/documentation/reference/">Reference</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

          
          

            
            
              <li><a  href="/blog/">Blog</a></li>
              <li class="divider"></li>

            
            
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

        

        

<div id="masthead-no-image-header">
    <div class="row">
        <div class="small-12 columns">
            <a id="logo" href="https://relm.antoyo.xyz/" title="Relm Blog – An idiomatic GUI Rust library, based on GTK+">
                <img src="/assets/img/logo.png" alt="Relm Blog – An idiomatic GUI Rust library, based on GTK+">
            </a>
        </div><!-- /.small-12.columns -->
    </div><!-- /.row -->
</div><!-- /#masthead -->









        


<div class="row t30">
    <div class="medium-12 columns">
        <article>
            <header>
                
                <h1>Relm drop support for futures!</h1>
            </header>

            

            <div id="preamble">
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Un concepteur sait qu’il a atteint la perfection non pas quand il n’y a plus rien à ajouter mais quand il ne reste rien à enlever.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Antoine de Saint-Exupery
</div>
</div>
<hr>
<div class="paragraph">
<p>Relm is an attempt to do an idiomatic GUI library in Rust, based on gtk+.
See the <a href="/relm-intro">introduction article</a> for details about why this library was created and how to use it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-release">New release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;ve just released relm version 0.14!</p>
</div>
<div class="paragraph">
<p>This new release, like the previous one, does not provide a bunch of new features, but fix a very important issue:
it removes the dependency on futures.</p>
</div>
<div class="paragraph">
<p>The reason for that is to simplify the library.
Indeed, futures and tokio are generic, abstract libraries that can be quite complex to use.
Many of the reasons why I decided to drop these crates are explained <a href="https://theta.eu.org/2017/08/04/async-rust.html">in this blog article</a>.
One point that is not mentioned there is that it is incredibly difficult to write a library for a new protocol implemented on top of tokio.
Why is that? Simply because there&#8217;s no way to debug issues like why isn&#8217;t this fd polled except using <code>strace</code>.</p>
</div>
<div class="paragraph">
<p>So, what&#8217;s the alternative?
If you don&#8217;t need async IO, well, you don&#8217;t need anything and you won&#8217;t have this extra complexity anymore.
If you need it, you can use the <code>gio</code> async methods <a href="https://github.com/antoyo/relm/blob/9b1b527e8b5bdabaa34e37103e6d93e05cb8a8b3/relm-state/src/macros.rs#L129">with one of the <code>connect_async!</code> macros</a>.
The now working <a href="https://github.com/antoyo/relm/blob/master/relm-examples/examples/http/src/main.rs#L240-L319">http example</a> shows how to do that.
In the next months, I&#8217;ll work on implementing a few abstractions, as needed, while working on one of my project that needs it.
The goal is to build a very simple abstraction, that will work nicely with relm, and keep it as simple as possible to avoid the issues we got with <code>tokio</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This new version is the first step in making relm simpler and (as you may have guessed by the quote at the top of this article) you should expect more breaking changes to come that will make this crate even easier to use.
As always, your feedback is very much appreciated.
Also, there are <a href="https://github.com/antoyo/relm/issues">issues</a> that could use some love and many of them are tagged as <a href="https://github.com/antoyo/relm/issues?q=is%3Aopen+is%3Aissue+label%3Aeasy">easy</a> if you wish to start with something simple.
Don&#8217;t wait to make a difference in the Rust ecosystem!</p>
</div>
<div class="paragraph">
<p>Please comment on <a href="https://www.reddit.com/r/rust/comments/88op3r/relm_drop_support_for_futures/">Reddit</a>.</p>
</div>
</div>
</div>
        </article>
    </div><!-- /.medium-12.columns -->
</div><!-- /.row -->

			<div id="page-meta" class="t30">
				<p>
					<!-- Look the author details up from the site config. -->
					
					<!-- Output author details if some exist. -->
					
					<span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"><a href="http://blog.antoyo.xyz" target="_blank"> Antoni</a></span>
				</span>
				

				
				<time class="icon-calendar pr20" datetime="2018-04-01T00:00:00+00:00" itemprop="datePublished"> 2018-04-01</time>
				

				</span>
				<br />
				<span class="pr20"></span>
			</p>

			
			<div id="post-nav" class="row">
				
				
				<div class="small-5 columns text-right"><a class="button small radius next" href="/relm-better-error-message/">Relm now has better error messages! &raquo;</a></div><!-- /.small-4.columns -->
				
			</div>
			
			</div><!--  /.page-meta -->


<div class="row t30">
    <div class="small-6 columns">
        
            <a href="/relm-better-error-message/" class="next-link">Previous</a>
        
    </div>
    <div class="small-6 columns text-right">
        
    </div>
</div>


        
            <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              An idiomatic GUI Rust library, based on GTK+
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">News Feed</h5>
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href=""  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="/feed.xml"  title="Subscribe to RSS Feed">RSS</a>
                  </li>
              
                
                  <li >
                    <a href="/atom.xml"  title="Subscribe to Atom Feed">Atom</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Links</h5>
              
            
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href=""  title=""></a>
                </li>
            
              
                <li >
                  <a href="https://github.com/antoyo/relm" target="_blank"  title="">GitHub</a>
                </li>
            
              
                <li >
                  <a href="https://gitter.im/relm-rs/Lobby" target="_blank"  title="">Gitter</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 text-right columns credits">
              Contribute on GitHub
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
              <div class="row">
                <ul class="inline-list social-icons columns small-12 medium-6">
                
                  <li><a href="http://github.com/antoyo/relm" class="icon-github" title="Relm"></a></li>
                
                </ul>

                <div class="columns small-12 medium-6">
                  <a href="https://www.patreon.com/antoyo"><img class="patreon" src="https://c5.patreon.com/external/logo/become_a_patron_button.png"/></a>
                </div>
              </div>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

        

        <script src="https://relm.antoyo.xyz/assets/js/javascript.min.js"></script>

    </body>
</html>
