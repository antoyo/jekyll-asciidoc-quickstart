<!doctype html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relm now has better error messages!</title>

    <link rel="stylesheet" type="text/css" href="/assets/css/styles_feeling_responsive.css">

    <!-- Search Engine Optimization -->
    <meta name="description" content="Relm is an attempt to do an idiomatic GUI library in Rust, based on gtk+.
See the introduction article for details about why this library was created and how to use it.




New release


I&amp;#8217;ve just released relm version 0.12!


This new release does not provide a bunch of new features, but fix a very important issue:
the bad error messages.


Before this release, the error message were not really helpful:



error[E0308]: mismatched types
  --&amp;gt; examples/buttons-attribute.rs:57:1
   |
57 | #[widget]
   | ^^^^^^^^^
   | |
   | expected &amp;amp;str, found struct `std::string::String`
   | help: consider borrowing here: `&amp;amp;#[widget]`
   |
   = note: expected type `&amp;amp;str`
              found type `std::string::String`



What a funny help message from the compiler!


Now, the error is shown exactly where it should be:



error[E0308]: mismatched types
  --&amp;gt; examples/buttons-attribute.rs:89:27
   |
89 |                     text: self.model.counter.to_string(),
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |                           |
   |                           expected &amp;amp;str, found struct `std::string::String`
   |                           help: consider borrowing here: `&amp;amp;self.model.counter.to_string()`
   |
   = note: expected type `&amp;amp;str`
              found type `std::string::String`



Which is now helpful, to say the least.


This only works when using nightly and when using these features:



[features]
default = [&amp;quot;relm/unstable&amp;quot;, &amp;quot;relm-attributes/unstable&amp;quot;, &amp;quot;relm-derive/unstable&amp;quot;]





Other fix


This release also fixes another issue where it was impossible to set child properties in some cases.




Conclusion


I hope that the people who didn&amp;#8217;t want to use relm because of the bad error messages will now give it a try.
As always, your feedback is very much appreciated.
Also, there are issues that could use some love and many of them are tagged as easy if you wish to start with something simple.
Don&amp;#8217;t wait to make a difference in the Rust ecosystem!


Please comment on Reddit.">
    
    <link rel="canonical" href="/relm-better-error-message/">

    <link rel="stylesheet" href="/css/asciidoc-pygments.css">

    <link type="text/plain" rel="author" href="/humans.txt">

    

	<link rel="icon" sizes="32x32" href="https://relm.antoyo.xyz/assets/img/favicon-32x32.png">

	<link rel="icon" sizes="192x192" href="https://relm.antoyo.xyz/assets/img/touch-icon-192x192.png">

	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-180x180-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-152x152-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-144x144-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-120x120-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-114x114-precomposed.png">

	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-76x76-precomposed.png">

	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-72x72-precomposed.png">

	<link rel="apple-touch-icon-precomposed" href="https://relm.antoyo.xyz/assets/img/apple-touch-icon-precomposed.png">	

	<meta name="msapplication-TileImage" content="https://relm.antoyo.xyz/assets/img/msapplication_tileimage.png">

	<meta name="msapplication-TileColor" content="#fabb00">


    

    </head>
    <body id="top-of-page" class="page-fullwidth">
        
        
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="/" class="icon-tree"> Relm Blog</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Nav</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

          
          
        

          
          
        

          
          
        

          
          
        
        

        <a href="https://www.patreon.com/antoyo"><img class="patreon" src="https://c5.patreon.com/external/logo/become_a_patron_button.png"/></a>
      </ul>

      <ul class="left">
        

          
          

            
            
              <li><a  href="/">Index</a></li>
              <li class="divider"></li>

            
            
          
        

          
          

            
            
              <li><a  href="/getting-started/">Getting Started</a></li>
              <li class="divider"></li>

            
            
          
        

          
          

            
            

              <li class="has-dropdown">
                <a  href="/documentation/">Documentation</a>

                  <ul class="dropdown">
                    

                      <li><a  href="/documentation/tutorial/">Tutorial</a></li>
                    

                      <li><a  href="/documentation/reference/">Reference</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

          
          

            
            
              <li><a  href="/blog/">Blog</a></li>
              <li class="divider"></li>

            
            
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

        

        

<div id="masthead-no-image-header">
    <div class="row">
        <div class="small-12 columns">
            <a id="logo" href="https://relm.antoyo.xyz/" title="Relm Blog – An idiomatic GUI Rust library, based on GTK+">
                <img src="/assets/img/logo.png" alt="Relm Blog – An idiomatic GUI Rust library, based on GTK+">
            </a>
        </div><!-- /.small-12.columns -->
    </div><!-- /.row -->
</div><!-- /#masthead -->









        


<div class="row t30">
    <div class="medium-12 columns">
        <article>
            <header>
                
                <h1>Relm now has better error messages!</h1>
            </header>

            

            <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Relm is an attempt to do an idiomatic GUI library in Rust, based on gtk+.
See the <a href="/relm-intro">introduction article</a> for details about why this library was created and how to use it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="new-release">New release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;ve just released relm version 0.12!</p>
</div>
<div class="paragraph">
<p>This new release does not provide a bunch of new features, but fix a very important issue:
the bad error messages.</p>
</div>
<div class="paragraph">
<p>Before this release, the error message were not really helpful:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-n">error</span><span class="tok-p">[</span><span class="tok-n">E0308</span><span class="tok-p">]</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">mismatched</span><span class="tok-w"> </span><span class="tok-n">types</span><span class="tok-w"></span>
<span class="tok-w">  </span><span class="tok-o">--&gt;</span><span class="tok-w"> </span><span class="tok-n">examples</span><span class="tok-o">/</span><span class="tok-n">buttons</span><span class="tok-o">-</span><span class="tok-n">attribute</span><span class="tok-p">.</span><span class="tok-n">rs</span><span class="tok-o">:</span><span class="tok-mi">57</span><span class="tok-o">:</span><span class="tok-mi">1</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w"></span>
<span class="tok-mi">57</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-cp">#[widget]</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-o">^^^^^^^^^</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">expected</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">found</span><span class="tok-w"> </span><span class="tok-k">struct</span> <span class="tok-err">`</span><span class="tok-n">std</span><span class="tok-o">::</span><span class="tok-n">string</span><span class="tok-o">::</span><span class="tok-nb">String</span><span class="tok-err">`</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">help</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">consider</span><span class="tok-w"> </span><span class="tok-n">borrowing</span><span class="tok-w"> </span><span class="tok-n">here</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-err">`</span><span class="tok-o">&amp;</span><span class="tok-cp">#[widget]</span><span class="tok-err">`</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">note</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">expected</span><span class="tok-w"> </span><span class="tok-k">type</span> <span class="tok-err">`</span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-err">`</span><span class="tok-w"></span>
<span class="tok-w">              </span><span class="tok-n">found</span><span class="tok-w"> </span><span class="tok-k">type</span> <span class="tok-err">`</span><span class="tok-n">std</span><span class="tok-o">::</span><span class="tok-n">string</span><span class="tok-o">::</span><span class="tok-nb">String</span><span class="tok-err">`</span><span class="tok-w"></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><em>What a funny help message from the compiler!</em></p>
</div>
<div class="paragraph">
<p>Now, the error is shown exactly where it should be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-n">error</span><span class="tok-p">[</span><span class="tok-n">E0308</span><span class="tok-p">]</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">mismatched</span><span class="tok-w"> </span><span class="tok-n">types</span><span class="tok-w"></span>
<span class="tok-w">  </span><span class="tok-o">--&gt;</span><span class="tok-w"> </span><span class="tok-n">examples</span><span class="tok-o">/</span><span class="tok-n">buttons</span><span class="tok-o">-</span><span class="tok-n">attribute</span><span class="tok-p">.</span><span class="tok-n">rs</span><span class="tok-o">:</span><span class="tok-mi">89</span><span class="tok-o">:</span><span class="tok-mi">27</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w"></span>
<span class="tok-mi">89</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-w">                     </span><span class="tok-n">text</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">model</span><span class="tok-p">.</span><span class="tok-n">counter</span><span class="tok-p">.</span><span class="tok-n">to_string</span><span class="tok-p">(),</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w">                           </span><span class="tok-o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w">                           </span><span class="tok-o">|</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w">                           </span><span class="tok-n">expected</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">found</span><span class="tok-w"> </span><span class="tok-k">struct</span> <span class="tok-err">`</span><span class="tok-n">std</span><span class="tok-o">::</span><span class="tok-n">string</span><span class="tok-o">::</span><span class="tok-nb">String</span><span class="tok-err">`</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w">                           </span><span class="tok-n">help</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">consider</span><span class="tok-w"> </span><span class="tok-n">borrowing</span><span class="tok-w"> </span><span class="tok-n">here</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-err">`</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">model</span><span class="tok-p">.</span><span class="tok-n">counter</span><span class="tok-p">.</span><span class="tok-n">to_string</span><span class="tok-p">()</span><span class="tok-err">`</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">|</span><span class="tok-w"></span>
<span class="tok-w">   </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">note</span><span class="tok-o">:</span><span class="tok-w"> </span><span class="tok-n">expected</span><span class="tok-w"> </span><span class="tok-k">type</span> <span class="tok-err">`</span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-err">`</span><span class="tok-w"></span>
<span class="tok-w">              </span><span class="tok-n">found</span><span class="tok-w"> </span><span class="tok-k">type</span> <span class="tok-err">`</span><span class="tok-n">std</span><span class="tok-o">::</span><span class="tok-n">string</span><span class="tok-o">::</span><span class="tok-nb">String</span><span class="tok-err">`</span><span class="tok-w"></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Which is now helpful, to say the least.</p>
</div>
<div class="paragraph">
<p><strong>This only works when using nightly and when using these features:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="toml"><span></span><span class="tok-p">[</span><span class="tok-n">features</span><span class="tok-p">]</span>
<span class="tok-n">default</span> <span class="tok-o">=</span> <span class="tok-p">[</span><span class="tok-s">&quot;relm/unstable&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;relm-attributes/unstable&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;relm-derive/unstable&quot;</span><span class="tok-p">]</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="other-fix">Other fix</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release also fixes another <a href="https://github.com/antoyo/relm/commit/35c0f28a7647c4637fe33763f0f0a00aec3d54e0">issue</a> where it was impossible to set child properties in some cases.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I hope that the people who didn&#8217;t want to use relm because of the bad error messages will now give it a try.
As always, your feedback is very much appreciated.
Also, there are <a href="https://github.com/antoyo/relm/issues">issues</a> that could use some love and many of them are tagged as <a href="https://github.com/antoyo/relm/issues?q=is%3Aopen+is%3Aissue+label%3Aeasy">easy</a> if you wish to start with something simple.
Don&#8217;t wait to make a difference in the Rust ecosystem!</p>
</div>
<div class="paragraph">
<p>Please comment on <a href="https://www.reddit.com/r/rust/comments/81upg8/relm_the_idiomatic_gui_library_now_has_better/">Reddit</a>.</p>
</div>
</div>
</div>
        </article>
    </div><!-- /.medium-12.columns -->
</div><!-- /.row -->


                <div id="page-meta" class="row">
                <p>
                    <!-- Look the author details up from the site config. -->
                    
                    <!-- Output author details if some exist. -->
                    
                    <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name" class="pr20 icon-edit"><a href="http://blog.antoyo.xyz" target="_blank"> Antoni</a></span>
                </span>
                

                
                <time class="icon-calendar pr20" datetime="2018-03-03T00:00:00+00:00" itemprop="datePublished"> 2018-03-03</time>
                

                </span>
                <br />
                <span class="pr20"></span>
            </p>

            
            <div id="post-nav" class="row">
                
                <div class="small-5 columns"><a class="button small radius prev" href="/relm-without-futures/">&laquo; Relm drop support for futures!</a></div><!-- /.small-4.columns -->
                
                
                <div class="small-5 columns text-right"><a class="button small radius next" href="/relm-release-0.10/">What&#8217;s new in relm 0.10.0? &raquo;</a></div><!-- /.small-4.columns -->
                
            </div>
            
            </div><!--  /.page-meta -->




        
            <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              An idiomatic GUI Rust library, based on GTK+
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">News Feed</h5>
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href=""  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="/feed.xml"  title="Subscribe to RSS Feed">RSS</a>
                  </li>
              
                
                  <li >
                    <a href="/atom.xml"  title="Subscribe to Atom Feed">Atom</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">Links</h5>
              
            
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href=""  title=""></a>
                </li>
            
              
                <li >
                  <a href="https://github.com/antoyo/relm" target="_blank"  title="">GitHub</a>
                </li>
            
              
                <li >
                  <a href="https://gitter.im/relm-rs/Lobby" target="_blank"  title="">Gitter</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 text-right columns credits">
              Contribute on GitHub
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
              <div class="row">
                <ul class="inline-list social-icons columns small-12 medium-6">
                
                  <li><a href="http://github.com/antoyo/relm" class="icon-github" title="Relm"></a></li>
                
                </ul>

                <div class="columns small-12 medium-6">
                  <a href="https://www.patreon.com/antoyo"><img class="patreon" src="https://c5.patreon.com/external/logo/become_a_patron_button.png"/></a>
                </div>
              </div>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

        

        <script src="https://relm.antoyo.xyz/assets/js/javascript.min.js"></script>

    </body>
</html>
